"use strict";(self.webpackChunkworkpuls=self.webpackChunkworkpuls||[]).push([[457],{457:function(n,t,e){e.r(t),e.d(t,{default:function(){return B}});var r=e(2791),o=e(8870),s=e(6907),i=e(1889),a=e(3400),l=e(3967),c=e(7621),u=e(9585),d=e(9504),h=e(184),x=function(n){var t=n.title,e=n.info,r=n.titleIcon,s=n.titleColor,i=(0,l.Z)();return(0,h.jsxs)(c.Z,{children:[(0,h.jsx)(u.Z,{action:r,title:(0,h.jsx)(o.Z,{component:"span",fontWeight:"bold",color:s||i.colors.alpha.black[70],fontSize:13,children:t}),sx:{paddingBottom:0,paddingTop:.75}}),(0,h.jsx)(d.Z,{sx:{paddingTop:.5,paddingBottom:"9px !important"},children:e})]})},p=e(7643),f=e(7097),g=e(4072),m=e(8161),j=e(366),Z=function(){return(0,h.jsxs)(i.ZP,{my:3,columns:12,container:!0,spacing:2,children:[(0,h.jsx)(i.ZP,{item:!0,xl:3,lg:3,md:4,sm:6,xs:12,children:(0,h.jsx)(x,{title:"Total time on Project",titleIcon:(0,h.jsx)(a.Z,{"aria-label":"settings",children:(0,h.jsx)(p.Z,{})}),info:(0,h.jsxs)(o.Z,{component:"span",fontWeight:"bold",fontSize:20,children:["03:39 ",(0,h.jsx)("sup",{children:"h"})]})})}),(0,h.jsx)(i.ZP,{item:!0,xl:3,lg:3,md:4,sm:6,xs:12,children:(0,h.jsx)(x,{title:"Earnings",titleIcon:(0,h.jsx)(a.Z,{"aria-label":"settings",children:(0,h.jsx)(f.Z,{})}),info:(0,h.jsxs)(o.Z,{component:"span",fontWeight:"bold",fontSize:20,children:[(0,h.jsx)("sup",{children:"$"})," 2409.20"]})})}),(0,h.jsx)(i.ZP,{item:!0,xl:3,lg:3,md:4,sm:6,xs:12,children:(0,h.jsx)(x,{title:"Costs",titleIcon:(0,h.jsx)(a.Z,{"aria-label":"settings",children:(0,h.jsx)(g.Z,{})}),info:(0,h.jsxs)(o.Z,{component:"span",fontWeight:"bold",fontSize:20,children:[(0,h.jsx)("sup",{children:"$"})," 1260.14"]})})}),(0,h.jsx)(i.ZP,{item:!0,xl:3,lg:3,md:4,sm:6,xs:12,children:(0,h.jsx)(x,{title:"Productivity",titleColor:"#5495e4",titleIcon:(0,h.jsx)(o.Z,{color:"#5495e4",children:(0,h.jsx)(a.Z,{"aria-label":"settings",color:"inherit",children:(0,h.jsx)(m.Z,{})})}),info:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(o.Z,{component:"span",fontWeight:"bold",fontSize:20,children:["93.57 ",(0,h.jsx)("sup",{children:"%"})]}),"  ",(0,h.jsxs)(o.Z,{component:"span",fontWeight:"bold",fontSize:10,color:"#3f8f73",children:[(0,h.jsx)(j.Z,{sx:{transform:"translateY(10px)"}}),"2.37%"]})]})})})]})},k=e(1413),b=e(2982),D=e(885),C=e(6151),y=e(2065),S=e(4721),T=e(2363),v=e(9276),E=e(3044),M=e(2898),w=function(n){return(n<10?"0":"")+n},O=e(5678),I=e(9053),P=e(2443),W=e(7069),U=["#6dcfba","#5895d7","#f5c344"],z=function(n){var t=n.id,e=n.name,s=n.assignees,i=n.timer,x=n.priority,p=n.status,f=n.onDragStart,g=n.onDragEnd,m=n.onTaskEdit,j=(0,l.Z)(),Z=(0,r.useContext)(W.t).openPopup,k=(0,r.useMemo)((function(){return n=i,{h:Math.floor(n%864e5/36e5),m:Math.floor(n%36e5/6e4),s:Math.floor(n%6e4/1e3)};var n}),[i]),b=(0,r.useCallback)((function(n){n.dataTransfer.setData("data",t),f&&f()}),[t,f]),D=(0,r.useRef)([U[Math.floor(Math.random()*U.length)],U[Math.floor(Math.random()*U.length)],U[Math.floor(Math.random()*U.length)]]),C=(0,r.useCallback)((function(){g&&g()}),[g]),y=(0,r.useCallback)((function(){Z("editTask",{id:t,name:e,assignees:s,priority:x,status:p},m)}),[s,t,e,m,Z,x,p]);return(0,h.jsxs)(c.Z,{sx:{cursor:"pointer",height:125,".MuiCardHeader-content":{width:"70%"}},draggable:!0,onDragStart:b,onDragEnd:C,onDoubleClick:y,children:[(0,h.jsx)(u.Z,{action:(0,h.jsx)(a.Z,{"aria-label":"settings",children:(0,h.jsx)(M.Z,{})}),title:(0,h.jsx)(o.Z,{sx:{whiteSpace:"nowrap",textOverflow:"ellipsis",display:"inline-block",overflow:"hidden",width:"100%"},component:"span",children:e})}),(0,h.jsx)(d.Z,{sx:{paddingTop:.5,paddingBottom:"9px !important"}}),(0,h.jsxs)(T.Z,{children:[s.slice(0,3).map((function(n,t){return(0,h.jsx)(E.Z,{alt:n,variant:"circular",sx:{width:30,height:30,backgroundColor:D.current[t]},children:n.charAt(0)},n)})),(0,h.jsxs)(o.Z,{component:"span",marginLeft:"auto",fontWeight:"bold",color:j.colors.alpha.black[50],children:["".concat(w(k.h),":").concat(w(k.m),":").concat(w(k.s))," ","h"]}),(0,h.jsx)(o.Z,{component:"span",marginLeft:"auto",children:(0,h.jsxs)(E.Z,{variant:"circular",sx:{width:25,height:25,backgroundColor:x===P.U.LOW?j.colors.success.lighter:x===P.U.MEDIUM?j.colors.warning.lighter:x===P.U.HIGH?j.colors.error.lighter:""},children:[x===P.U.LOW&&(0,h.jsx)(O.Z,{color:"success",fontSize:"small"}),x===P.U.MEDIUM&&(0,h.jsx)(O.Z,{color:"warning"}),x===P.U.HIGH&&(0,h.jsx)(I.Z,{color:"error",fontSize:"small"})]})})]})]})},H=[P.U.HIGH,P.U.MEDIUM,P.U.LOW],L=function(n){var t=n.items,e=n.status,o=n.isDragging,s=n.onDragStart,i=n.onDragEnd,a=n.addTask,x=n.updateTaskStatus,p=n.onTaskEdit,f=(0,l.Z)(),g=(0,r.useRef)(null),m=(0,r.useContext)(W.t).openPopup,j=(0,r.useMemo)((function(){switch(e){case P.h.TODO:return"To Do";case P.h.ON_HOLD:return"On Hold";case P.h.IN_PROGRESS:return"In Progress";case P.h.DONE:return"Done"}}),[e]),Z=(0,r.useMemo)((function(){return t.sort((function(n,t){return H.indexOf(n.priority)>H.indexOf(t.priority)?1:-1}))}),[t]),b=(0,r.useCallback)((function(){s&&s()}),[s]),D=(0,r.useCallback)((function(){i&&i()}),[i]),y=(0,r.useCallback)((function(n){n.preventDefault(),Array.from(g.current.children).forEach((function(n){return n.style.pointerEvents="none"})),n.currentTarget===g.current&&(g.current.style.backgroundColor=f.colors.alpha.black[30])}),[f.colors.alpha.black]),S=(0,r.useCallback)((function(){g.current.style.backgroundColor=f.colors.alpha.black[10]}),[f.colors.alpha.black]),E=function(){Array.from(g.current.children).forEach((function(n){return n.style.pointerEvents="auto"}))},M=(0,r.useCallback)((function(n){var t=n.dataTransfer.getData("data");g.current.style.backgroundColor=f.colors.alpha.black[10],x(t,e),D&&D()}),[D,e,f.colors.alpha.black,x]);return(0,r.useEffect)((function(){o||E()}),[o]),(0,h.jsxs)(c.Z,{ref:g,sx:(0,k.Z)((0,k.Z)({backgroundColor:f.colors.alpha.black[10]},o&&{border:"1px dashed ".concat(f.colors.alpha.black[70])}),{},{height:"100%",display:"flex",flexDirection:"column"}),onDragOver:y,onDragLeave:S,onDrop:M,onDragEnd:function(){return E()},children:[(0,h.jsx)(u.Z,{title:(0,h.jsx)(v.Z,{component:"span",sx:{fontWeight:"700",color:f.colors.alpha.black[50]},fontSize:12,children:j}),sx:{paddingTop:1}}),(0,h.jsx)(d.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:Z.map((function(n){return(0,h.jsx)(z,{id:n.id,name:n.name,timer:n.timer,assignees:n.assignees,priority:n.priority,status:n.status,onDragStart:b,onDragEnd:D,onTaskEdit:p},n.id)}))}),(0,h.jsx)(T.Z,{sx:{marginTop:"auto"},children:(0,h.jsx)(C.Z,{sx:{fontSize:11,color:f.colors.alpha.black[70],marginLeft:"auto",marginRight:"auto"},onClick:function(){return m("createTask",{isStatusDisabled:!0,status:e},a)},children:"+Add new task"})})]})},N=JSON.parse('[{"id":"1","status":"todo","name":"Design Task","assignees":["Quan","Nhu"],"timer":156464646546,"priority":"low"},{"id":"2","status":"in_progress","name":"Design Task progress long text","assignees":["Quan","Nhu"],"timer":5435345354,"priority":"medium"},{"id":"3","status":"done","name":"Design Task done","assignees":["Quan","Mong"],"timer":3123123123,"priority":"high"}]'),A=function(){var n=(0,l.Z)(),t=(0,r.useState)(!1),e=(0,D.Z)(t,2),s=e[0],a=e[1],x=(0,r.useContext)(W.t).openPopup,p=(0,r.useState)(N),f=(0,D.Z)(p,2),g=f[0],m=f[1],j=(0,r.useCallback)((function(n){m((function(t){return[].concat((0,b.Z)(t),[{id:Math.random().toString(),name:n.name,status:n.status,priority:n.priority,assignees:n.assignees,timer:0}])}))}),[]),Z=(0,r.useCallback)((function(n,t){m((function(e){var r=e.findIndex((function(t){return t.id===n})),o=(0,b.Z)(e);return o[r]=(0,k.Z)((0,k.Z)({},o[r]),{},{status:t}),o}))}),[]),T=(0,r.useCallback)((function(n){console.warn(n),m((function(t){var e=t.findIndex((function(t){return t.id===n.id})),r=(0,b.Z)(t);return r[e]=(0,k.Z)((0,k.Z)({},r[e]),n),r}))}),[]);return(0,h.jsxs)(c.Z,{children:[(0,h.jsx)(u.Z,{title:(0,h.jsxs)(o.Z,{children:["Tasks"," ",(0,h.jsx)(o.Z,{component:"span",children:(0,h.jsx)(C.Z,{variant:"outlined",sx:{fontWeight:"bold",color:(0,y._j)(n.colors.primary.main,.15),border:"2px solid ".concat(n.colors.primary.main),marginLeft:5},onClick:function(){return x("createTask",{},j)},children:"Add New Task"})})]})}),(0,h.jsx)(S.Z,{sx:{height:2}}),(0,h.jsx)(d.Z,{sx:{padding:1,paddingBottom:"9px !important"},children:(0,h.jsx)(i.ZP,{container:!0,columns:12,spacing:1,children:Object.keys(P.h).map((function(n){return(0,h.jsx)(i.ZP,{item:!0,xl:3,lg:3,md:4,sm:6,xs:12,children:(0,h.jsx)(L,{items:g.filter((function(t){return t.status===P.h[n]})),status:P.h[n],addTask:j,updateTaskStatus:Z,onTaskEdit:T,isDragging:s,onDragStart:function(){return a(!0)},onDragEnd:function(){return a(!1)}})},P.h[n])}))})})]})},B=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(s.ql,{children:(0,h.jsx)("title",{children:"Design System"})}),(0,h.jsxs)(o.Z,{display:"flex",gap:2,fontSize:11,children:[(0,h.jsx)(o.Z,{color:"#3f8f73",fontWeight:"bold",children:"Active Project"}),(0,h.jsx)(o.Z,{children:"4 assignees"}),(0,h.jsxs)(o.Z,{children:["Budget:"," ",(0,h.jsx)(o.Z,{component:"span",fontWeight:"bold",children:"32 hours"})]})]}),(0,h.jsx)(Z,{}),(0,h.jsx)(A,{})]})}}}]);
//# sourceMappingURL=457.c93be483.chunk.js.map